# [vector и алгоритмы](../readme.md)

## Префиксные суммы

Префиксные суммы (prefix sums), также известные как cummulative sums, являются техникой, которая используется для
эффективного решения ряда задач, связанных с суммированием элементов в массиве. Префиксная сумма для элемента на позиции
i - это сумма всех элементов массива от начала до i-го элемента.

Префиксные суммы могут быть предварительно вычислены для всего массива и сохранены в отдельном массиве, что позволяет
получить доступ к сумме любого подотрезка массива с использованием только двух индексов.

Для вычисления префиксных сумм массива a с элементами `a[0], a[1], ..., a[n-1]` можно использовать следующий алгоритм:

Создайте новый массив `prefixSum` размером n.
Инициализируйте `prefixSum[0]` равным `a[0]`.
Для каждого `i` от `1` до `n-1`, вычислите `prefixSum[i] = prefixSum[i-1] + a[i]`.
После выполнения этих шагов, элемент `prefixSum[i]` будет содержать сумму всех элементов от `a[0]` до `a[i]`.

### Вычисление префиксных сумм:

```c++
vector<int> a{1, 2, 3, 4, 5};
 // Вычисление префиксных сумм
vector<int> prefixSum(n);
prefixSum[0] = a[0];
for (int i = 1; i < n; i++) {
    prefixSum[i] = prefixSum[i - 1] + a[i];
}
```

Префиксные суммы полезны для решения различных задач, особенно тех, где требуется многократно находить сумму подотрезка
массива или отвечать на запросы о сумме элементов на определенном интервале.

Пример задачи, которая может быть решена с использованием префиксных сумм:

Задача: Дан массив `array`. Требуется найти сумму элементов в подотрезке `[l, r]` массива `array`. Предпологается, что
запросов на подсчет суммы для одного массива может быть несколько.

```cpp
#include <iostream>
#include <vector>

std::vector<int> prefixSum; // Используйте этот массив для единоразового подсчета префиксных сумм

int sub_sum(const std::vector<int>& array, int l, int r){
    //напишите решение
}

void Test(const std::vector<int>& test_case, int l , int r, int expected){
    std::cout << (sub_sum(test_case, l , r) == expected ? "ok" : "error") << std::endl;
}

int main() {
    Test({1, 2, 3, 4, 5}, 1, 3, 9);
    Test({1, 2, 3, 4, 5}, 2, 4, 12);
    Test({1, 2, 3, 4, 5}, 0, 4, 15);

    Test({5, 2, 6, 1, 3, 9, 7, 4}, 1, 5, 21);
    Test({5, 2, 6, 1, 3, 9, 7, 4}, 3, 7, 24);

    Test({1, -2, 3, -4, 5, -6}, 2, 5, -2);

    Test({0, 0, 0, 0}, 0, 3, 0);

    return 0;
}
```